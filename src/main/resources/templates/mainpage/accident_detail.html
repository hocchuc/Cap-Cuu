    <!doctype html>
    <html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta description="viewport" content="width=device-width, initial-scale=1"/>
    <style type="text/css">
		#map {
			height: 600px;
			width: 800px;
       margin: 0px;
       padding: 0px
		}
    	</style>
    <link rel="icon" th:href="@{/favicon.png}" />
    <link rel="stylesheet" th:href="@{/vendor/materialize/css/materialize.css}" />
    <link rel="stylesheet" th:href="@{/vendor/materialize/css/materialize.min.css}" />
    <link rel="stylesheet" th:href="@{/vendor/codrops/css/cs-select.css}" />
    <link rel="stylesheet" th:href="@{/vendor/codrops/css/cs-skin-border.css}" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <link rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/css/materialize.min.css}"/>
    <link rel="stylesheet" th:href="@{/app.css}" />
    <title>Admin | Accident Detail</title>
   
    </head>
    <body>
    <!-- START MAIN -->
    <div id="main">
      <!-- START WRAPPER -->
      <div class="wrapper">
        <div th:replace="layout :: nav"></div>
        <div class="divider"></div>
         <div class="col s1 m2 l2"></div>
        <div id="map"  class="col s10 m8 l8"></div>
        <div class="col s1 m2 l2"></div>
        <!--DataTables users-->
        <div id="table-datatables">
          <div class="row">
            <div class="col s1 m2 l2"></div>
            <div class="col s10 m8 l8"><h4 class="header">User Management</h4></div>
            <div class="col s1 m2 l2"></div>
          </div>
          <div class="row">
            <div class="col s1 m1 l1"></div>
            <div class="col s10 m10 l10">
              <table id="data-table-simple" class="responsive-table display highlight" cellspacing="0">
                <thead>
                <tr>
                  <th>Username</th>
                   <th>Name</th>
                  <th>Role</th>
                  <th>Password</th>
                  <th>Position</th>
                  <th>Phone</th>
                </tr>
                </thead>

                <tfoot>
                <tr>
                  <th>Username</th>
                  <th>Name</th>
                  <th>Role</th>
                  <th>Password</th>
                  <th>Position</th>
                  <th>Phone</th>

                </tr>
                </tfoot>

                <tbody>
                <tr th:each="user  : ${users_joined}">
                  <td th:text="${user.username}">Tiger Nixon</td>
                  <td th:text="${user.personal_Infomation!=null} ? ${user.personal_Infomation.name_PI}"></td>
                  <td th:text="${user.user_type.name_user_type}">System Architect</td>
                  <td th:text="${user.password}">online</td>
                  <td th:text="${user.lat_PI + ',' +user.long_PI}">61</td>
                  <td th:text="${user.personal_Infomation!=null} ? ${user.personal_Infomation.phone_PI}"></td>


                </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="col s1 m1 l1"></div>
        </div>
        <br/>
        <div class="divider">
        </div>

      </div>
      <!-- END WRAPPER -->

    </div>
    <!-- END MAIN -->
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <div th:inline="text" ></div>
    <script type="text/javascript" th:src="@{https://maps.googleapis.com/maps/api/js(key=${googleMapsAPIKey})}"></script>
    <script th:inline="javascript">
        var markerLat, markerLong, username;

       /*<![CDATA[*/  
       var markerLat = [
         /*[# th:each="user : ${users_joined}"]*/
                     /*[[${user.lat_PI}]]*/, 
            /*[/]*/];
        
       var markerLong = [
          /*[# th:each="user : ${users_joined}"]*/
                       /*[[${user.long_PI}]]*/, 
            /*[/]*/];

        var username = [
          /*[# th:each="user : ${users_joined}"]*/
                       /*[[${user.personal_Infomation.name_PI}]]*/, 
            /*[/]*/];

       var accident = new google.maps.LatLng(/*[[${accident.lat_AC}]]*/, /*[[${accident.long_AC}]]*/);

          /*]]>*/
          
      function initialize() {
        var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 14,
      center: accident,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    });
        var infowindow = new google.maps.InfoWindow();
                   

        var marker = new google.maps.Marker({
          position: accident,
          map: map
        });
      
         var  i;
      for (i = 0; i < markerLat.length; i++) {
                marker = new google.maps.Marker({
                    position: new google.maps.LatLng(markerLat[i], markerLong[i]),
                    title: username[i],
                    setMap : map 
                });

                google.maps.event.addListener(marker, 'click', (function(marker, i) {
                    return function() {
                        infowindow.setContent(markers[i]);
                        infowindow.open(map, marker);
                        
                    }
                })(marker, i));
            }
      }
      google.maps.event.addDomListener(window, 'load', initialize);

    
    </script>
  
    </body>
  


   
    </html>
